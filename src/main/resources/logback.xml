<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
    
   <contextName>Intota-Next</contextName>
   
    <appender name="FILE" class="ch.qos.logback.core.FileAppender">
        <file>/tmp/app.log</file>
        <filter class="ch.qos.logback.classic.filter.LevelFilter">
            <level>INFO</level>
            <onMatch>ACCEPT</onMatch>
            <onMismatch>DENY</onMismatch>
        </filter>
        <encoder>
            <pattern>%date %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
        </encoder>
       
    </appender>
    

 
   <logger name = "com.proquest.intota.v2" level="INFO">
        <appender-ref ref="FILE"/>
    </logger> 
   
    <appender name="KINESIS"  class="com.proquest.intota.v2.aws_kinesis_logback.KinesisAppender">
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>INFO</level>
        </filter>
        <encoder>
            <pattern>%date %level [%thread] %logger{10} [%file:%line] %msg%n</pattern>
        </encoder>
        <streamName>{ENV}-intota-logback</streamName>
        <encoding>UTF-8</encoding>
        <maxRetries>3</maxRetries>
        <bufferSize>2000</bufferSize>
        <threadCount>20</threadCount>
        <region>us-east-1</region>
        <userAgentString>kinesis-logback-appender/1.0.1</userAgentString>
        <keepAliveSeconds>30</keepAliveSeconds>
        <limit>10</limit>
    </appender>
   
    <logger name = "com.proquest.intota.v2.log.kinesis" level="INFO">
        <appender-ref ref="KINESIS"/>
    </logger> 
    
    <root level="ERROR">
        <appender-ref ref="KINESIS"/>
    </root>
</configuration> 
